var jq=jQuery,bp_like_ajax_request=null,id,type;jq(document).ready(function(){"use strict";function e(e){return e.replace("like-activity-","").replace("unlike-activity-","").replace("like-blogpost-","").replace("unlike-blogpost-","").replace("un","")}function i(i,l){i=e(i),l=l.replace("like","").replace("unlike","").replace("un","").trim(),jq("#users-who-like-"+i).addClass("loading"),jq.post(ajaxurl,{action:"bplike_get_likes",type:l,id:i},function(e){e=e.replace('<p class="users-who-like" id="users-who-like-'+i+'">',"").replace("</p>",""),jq("#users-who-like-"+i).html(e),jq("#users-who-like-"+i).removeClass("loading")})}jq(".like, .unlike").live("click",function(){return id=jq(this).attr("id"),type=jq(this).attr("class").replace("bp-primary-action ","").replace("button","activity_update").replace("acomment-reply","activity_comment").replace("blogpost","blog_post").trim(),jq(this).addClass("loading"),jq.post(ajaxurl,{action:"activity_like",type:type,id:id},function(l){jq("#"+id).fadeOut(100,function(){jq(this).html(l).removeClass("loading").fadeIn(100)}),"activity_update like"==type?(jq("#"+id).removeClass("like").addClass("unlike").attr("title",bplikeTerms.unlike_message).attr("id",id.replace("like","unlike")),i(id,type)):"activity_update unlike"==type?(jq("#"+id).removeClass("unlike").addClass("like").attr("title",bplikeTerms.like_message).attr("id",id.replace("unlike","like")),i(id,type)):"activity_comment like"==type?jq("#"+id).removeClass("like").addClass("unlike").attr("title",bplikeTerms.unlike_message).attr("id",id.replace("like","unlike")):"activity_comment unlike"==type?jq("#"+id).removeClass("unlike").addClass("like").attr("title",bplikeTerms.like_message).attr("id",id.replace("unlike","like")):"blog_post like"==type?(jq("#"+id).removeClass("like").addClass("unlike").attr("title",bplikeTerms.unlike_message).attr("id",id.replace("like","unlike")),i(id,type)):"blog_post unlike"==type?(jq("#"+id).removeClass("unlike").addClass("like").attr("title",bplikeTerms.like_message).attr("id",id.replace("unlike","like")),i(id,type)):(console.log("Opps. Something went wrong"),console.log("type: "+type),console.log("id: "+id)),"Like <span>0</span>"==l&&jq("#users-who-like-"+e(id)).remove(),type=type.replace("unlike","").replace("like","").trim(),"Unlike <span>1</span>"==l&&"activity_comment"!=type&&(console.log("type: "+type),jq('<p class="users-who-like" id="users-who-like-'+e(id)+'"><small>'+bplikeTerms.you_like_this+"</small></p>").insertAfter("#"+id.replace("like","unlike")))}),!1})});
